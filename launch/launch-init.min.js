/** * * * * * * * * * * * * * * * * * * * * *
 * App initiation (you may replace this code with
 * something of your own if you want)
 */(function(e,t){var n,i,s,a,o,r=function(e){var t=n.style.opacity;t=(t?parseFloat(t):1)-.04,n.style.opacity=t,n.style.filter="alpha("+100*t+")",t>0?setTimeout(function(){r(e)},10):e()};n=document.getElementById("launch-panel"),o=document.getElementById("launch-progress-bar"),a=document.getElementById("launch-progress-info"),n.style.position="absolute",n.style.width="200px",n.style.height="200px",n.style.left="50%",n.style.top="50%",n.style.padding="20px 25px 0",n.style.margin="-180px 0 0 -130px",o.parentNode.style.height="22px",o.parentNode.style.height="22px",o.parentNode.style.margin="20px 0 8px",o.parentNode.style.overflow="hidden",o.style.height="100%",o.style.width="0",n.style.display="block",e.on("init",function(){a.innerHTML='Downloaded <span id="loaded-launch-files"></span> of <span id="num-launch-files"></span> files',s=document.getElementById("num-launch-files"),i=document.getElementById("loaded-launch-files"),e.isDownloaded?(o.style.width="100%",a.innerHTML="Application loaded from local storage..."):(s.innerHTML=e.manifest.files.length,i.innerHTML="0")}),e.on("download",function(){if(!e.isDownloaded){var t=parseInt(i.innerHTML)+1,n=Math.round(100*(t/e.manifest.files.length));o.style.width=n+"%",i.innerHTML=t,t==e.manifest.files.length&&(a.innerHTML="Application downloaded...")}}),e.on("QuotaExceeded",function(){o.parentNode.parentNode.removeChild(o.parentNode),a.style.textAlign="center",a.style.paddingTop="10px",a.style.lineHeight="130%",a.innerHTML='<strong style="color:red">ERROR<br /></strong><strong>Local storage quoata exceeded.</strong> <br /> You have to increase the local storage quota in your browser in order to run this web app.'}),e.on("load",function(){r(function(){var n=e.manifest.main;n&&(t.document.getElementsByTagName("body")[0].innerHTML=e.resources[n]),e.events.call("ready")})}),setTimeout(function(){e.start()},500)})(WebApp,window);